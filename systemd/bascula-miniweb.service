[Unit]
Description=Bascula Miniweb (FastAPI)
After=network-online.target
Wants=network-online.target

[Service]
Type=simple
User=pi
WorkingDirectory=/opt/bascula/current
Environment=PYTHONPATH=/opt/bascula/current
Environment=UVICORN_HOST=0.0.0.0
Environment=UVICORN_PORT=8080
ExecStart=/opt/bascula/venv/bin/uvicorn bascula.miniweb:app --host ${UVICORN_HOST} --port ${UVICORN_PORT} --log-level info
Restart=on-failure

[Install]
WantedBy=multi-user.target
